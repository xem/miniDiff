<meta charset=utf-8>

Before:
<br>
<textarea id=a cols=99>var a = func1(foo)</textarea>

<br>
<br>

After:
<br>
<textarea id=b cols=99>a = func2(foo) + 1</textarea>

<br>
<br>

Output:
<pre id=c></pre>

<script>


LevenshteinDistance = function(s, len_s, t, len_t){
  var cost;

  /* base case: empty strings */
  if (len_s == 0) return [len_t, (t.slice(0,len_t) + '') != "" ? ["*add '"+t.slice(0,len_t).join("' and '")+"'*"] : []];
  if (len_t == 0) return [len_s, (s.slice(0,len_s) + '') != "" ? ["*remove '"+s.slice(0,len_s).join("' and '")+"'*"] : []];

  /* test if last characters of the strings match */
  if (s[len_s-1] == t[len_t-1]){
    cost = 0;
  }
  else{
    cost = 1;
  }
  
  /* return minimum of delete char from s, delete char from t, and delete char from both */
  var O = LevenshteinDistance(s, len_s - 1, t, len_t);
  var P = LevenshteinDistance(s, len_s, t, len_t - 1);
  var Q = LevenshteinDistance(s, len_s - 1, t, len_t - 1);
  
  var R = O[0] + 1;
  var S = P[0] + 1;
  var T = Q[0] + cost;
  
  if(R <= S && R <= T){
    if(s[len_s]){
      O[1].push("*remove '"+s[len_s]+"' from s*");
    }
    return [R,O[1]]; 
  }
  else if(S <= R && S <= T){
    if(t[len_t]){
      P[1].push("*add '"+t[len_t]+"' to t*");
    }
    return [S,P[1]]; 
  }
  else{
    if(s[len_s] != t[len_t]){
      if(s[len_s] && t[len_t]){
        Q[1].push("*replace '"+[s[len_s]]+"' with '"+[t[len_t]]+"'*");    
      }
      else if(t[len_t]) {
        Q[1].push("*add '"+t[len_t]+"' to t*");
      }
      else {
        Q[1].push("*remove '"+s[len_s]+"' from s*");
      }
    }
    return [T,Q[1]]; 
  }
}

A=a.value.split(/\b/);
if(A[0]=="")A=[];
B=b.value.split(/\b/);
if(B[0]=="")B=[];
c.innerHTML = LevenshteinDistance(A,A.length,B,B.length)[1].join("<br>");

</script>