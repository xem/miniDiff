<meta charset=utf-8>
<textarea id=a cols=99>sitting</textarea>
<br>
<textarea id=b cols=99>kitten</textarea>
<br>
Diff: <pre id=c style=font-size:18px></pre>

<script>
function L(s, t){
  m = s.length;
  n = t.length;
  d = [];
  for(i = 0; i < m + 1; i++){
    d[i] = [];
    for(j = 0; j < n + 1; j++){
      d[i][j] = 0;
    }
  }
 
  for(i = 0; i < m + 1; i++){
    d[i][0] = i;
  }
 
  for(j = 0; j < n + 1; j++){
    d[0][j] = j;
  }
 
  for(i = 1; i < m + 1; i++){
    for(j = 1; j < n + 1; j++){
      if(s[i - 1] == t[j - 1]){
        cost = 0;
      }
      else{
        cost = 1;
      }
      d[i][j] = Math.min(d[i - 1][j] + 1, d[i][j - 1] + 1, d[i - 1][j - 1] + cost);
    }
  }
  return d;
}

A = a.value;
B = b.value;
d = L(A,B);
for(i = 0; i < d.length; i++){
  console.log(d[i] + "");
}

x = n;
y = m;
out = "";

for(z = 0; z < 10; z++){
  
  dist = d[y][x];

  if(x > 0 && y > 0){
    del = d[y - 1][x];
    ins = d[y][x - 1];
    sub = d[y - 1][x - 1];
    min = Math.min(del, ins, sub);
    
    if(sub == min){
      if(A[x - 1] != B[y - 1]){
        console.log("sub " + A[y - 1] + " with " + B[x - 1]);
        out = "<mark style=background:red>" + A[y - 1] + "</mark><mark style=background:green>" + B[x - 1] + "</mark>" + out;
      }
      else{
        console.log("keep " + A[x - 1]);
        out = A[x - 1] + out;
      }
      y--;
      x--;
    }
    else if(ins == min){
      console.log("ins " + B[x - 1]);
      out = "<mark style=background:green>" + B[x - 1] + "</mark>" + out;
      x--;
    }
    else if(del == min){
      console.log("del " + A[y - 1]);
      out = "<mark style=background:red>" + A[y - 1] + "</mark>" + out;
      y--;
    }
  }
  
  
  else if(x == 0){
    console.log("del " + A[y - 1]);
    out = "<mark style=background:red>" + A[y - 1] + "</mark>" + out;
    y--;
  }
  
  else if(y == 0){
    console.log("ins " + B[x - 1]);
    out = "<mark style=background:green>" + B[x - 1] + "</mark>" + out;
    x--;
  }
  
  
}

c.innerHTML = out;
</script>